# Twin Application Environment Configuration

# ============================================
# Core Application Settings
# ============================================
MODEL_ID=anthropic.claude-3-5-sonnet-20241022-v2:0
STATE_BUCKET=your-state-bucket-name
PORT=8080

# ============================================
# RAG Enhancement Settings
# ============================================

# Enable/Disable Query Rewriting
# Set to 'true' to enable query rewriting for better semantic search
# Set to 'false' to use original queries
ENABLE_QUERY_REWRITE=true

# Enable/Disable Reranking
# Set to 'true' to enable result reranking
# Set to 'false' to use original retrieval order
ENABLE_RERANKING=true

# ============================================
# Query Rewriting Configuration
# ============================================

# Model to use for query rewriting
# Recommended options:
#   - anthropic.claude-3-haiku-20240307-v1:0 (fast, cost-effective)
#   - anthropic.claude-3-5-sonnet-20241022-v2:0 (higher quality)
# If not set, falls back to MODEL_ID
QUERY_REWRITE_MODEL_ID=anthropic.claude-3-haiku-20240307-v1:0

# ============================================
# Reranking Configuration
# ============================================

# Reranking method: 'bedrock' or 'llm'
# - bedrock: Uses Cohere's specialized rerank models (recommended, most accurate)
# - llm: Uses an LLM to score relevance (fallback option)
RERANK_METHOD=bedrock

# Model to use for reranking
# For bedrock method (recommended):
#   - cohere.rerank-v3-5:0 (best)
#   - cohere.rerank-english-v3-0
#   - cohere.rerank-multilingual-v3-0
# For llm method:
#   - Any Bedrock text model (e.g., anthropic.claude-3-haiku-20240307-v1:0)
# If not set:
#   - bedrock method: defaults to cohere.rerank-v3-5:0
#   - llm method: falls back to MODEL_ID
RERANK_MODEL_ID=cohere.rerank-v3-5:0

# Number of top documents to return after reranking
# Lower values = faster but may miss relevant info
# Higher values = more comprehensive but slower
# Recommended: 5
RERANK_TOP_K=5

# ============================================
# Recommended Configurations
# ============================================

# Configuration 1: Balanced (Recommended)
# Fast query rewriting + accurate reranking
# ENABLE_QUERY_REWRITE=true
# ENABLE_RERANKING=true
# QUERY_REWRITE_MODEL_ID=anthropic.claude-3-haiku-20240307-v1:0
# RERANK_METHOD=bedrock
# RERANK_MODEL_ID=cohere.rerank-v3-5:0
# RERANK_TOP_K=5

# Configuration 2: High Quality
# Better query rewriting with Sonnet
# ENABLE_QUERY_REWRITE=true
# ENABLE_RERANKING=true
# QUERY_REWRITE_MODEL_ID=anthropic.claude-3-5-sonnet-20241022-v2:0
# RERANK_METHOD=bedrock
# RERANK_MODEL_ID=cohere.rerank-v3-5:0
# RERANK_TOP_K=5

# Configuration 3: No Cohere (LLM-based reranking)
# Use if you don't have access to Cohere models
# ENABLE_QUERY_REWRITE=true
# ENABLE_RERANKING=true
# QUERY_REWRITE_MODEL_ID=anthropic.claude-3-haiku-20240307-v1:0
# RERANK_METHOD=llm
# RERANK_MODEL_ID=anthropic.claude-3-haiku-20240307-v1:0
# RERANK_TOP_K=5

# Configuration 4: Original Behavior (No enhancements)
# ENABLE_QUERY_REWRITE=false
# ENABLE_RERANKING=false
